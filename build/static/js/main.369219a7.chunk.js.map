{"version":3,"sources":["reducers/index.js","action/actionTypes.js","action/index.js","components/DataEntryForm/DataEntryForm.js","additionalАunctions/getId.js","components/LIstItem/ListItem.js","components/LIst/List.js","localStorage/storageComments.js","constants/constants.js","containers/LIstContainer/ListComment.js","components/Header/Header.jsx","components/ListItemDetail/ListItemDetail.jsx","containers/ListItemDetailContainer/ListItemDetailContainer.jsx","components/Authorization/Authorization.jsx","components/App/AppComponent.js","index.js"],"names":["widgetCommentsReducer","state","id","name","comment","date","type","filter","deleteComment","DataEntryForm","inputChangeHandler","e","target","value","setState","formSubmitHandler","preventDefault","addComment","props","Date","toLocaleString","this","className","onSubmit","onChange","placeholder","required","Component","connect","Math","random","toString","ListItem","commentElements","console","log","onClick","to","List","stateComments","listItems","map","key","LocalStorageAPI","fetch","response","ok","serialisedState","localStorage","getItem","JSON","parse","status","getState","setItem","stringify","dispatch","saveState","Header","ListItemDetail","commentItem","history","length","Number","goBack","replace","compose","dataComments","commentId","match","params","c","Authorization","App","exact","path","component","render","localStorageAPI","composeEnhancers","composeWithDevTools","getInitialState","then","store","createStore","applyMiddleware","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.369219a7.chunk.js","sourcesContent":["import {ADD_COMMENT, DELETE_COMMENT} from '../action/actionTypes'\n\nconst widgetCommentsReducer = (state = [],  {id, name, comment, date, type}) => {\n    switch(type){\n        case ADD_COMMENT:\n            return [\n                   ...state,{\n                    id,\n                    name,\n                    comment,\n                    date\n                  },\n            ]\n        case DELETE_COMMENT:\n          return state.filter(comment => comment.id !== id);  \n\n          default:\n            return state;\n    }\n}\n\nexport default widgetCommentsReducer;","export const ADD_COMMENT = 'ADD_COMMENT'\nexport const DELETE_COMMENT = 'DELETE_COMMENT'\n\nexport const FETCH_STATE_SUCCESS = 'FETCH_STATE_SUCCESS'\n","import getId from '../additionalАunctions/getId';\nimport {ADD_COMMENT, DELETE_COMMENT} from './actionTypes'\n\nexport const addComment = (name, comment, date) => {\n    return {\n        type: ADD_COMMENT,\n        id: getId(),\n        name,\n        comment,\n        date,\n    }\n}\n\nexport const deleteComment = (id) => {\n    return {\n        type: DELETE_COMMENT,\n        id\n    }\n}\n","import React, {Component} from 'react';\nimport {connect} from 'react-redux'\n\nimport {addComment} from '../../action'\n\nimport '../../style/App.css'\n\nclass DataEntryForm extends Component {   \n    state = {\n        name: '',\n        comment: '' \n    }\n    \n    inputChangeHandler = (e) => {\n      const {name , value} = e.target;\n       this.setState({\n           [name]: value,\n       })\n    }\n  \n    formSubmitHandler = (e) => {\n       e.preventDefault();\n      const {name, comment} = this.state;\n      const {addComment} = this.props\n\n      addComment(name, comment, new Date().toLocaleString());\n    \n      this.setState({\n        name: '',\n        comment: ''\n      })\n    }\n    \n    render(){\n        const {name, comment} = this.state;\n        const {inputChangeHandler, formSubmitHandler} = this;\n        return (\n                <div className='text-center'>\n                        <form className=\"form-inline\" onSubmit={formSubmitHandler} >\n                        <div className=\"form-group mx-sm-3 mb-2\">\n                            <input className='' onChange={inputChangeHandler} type='text' name='name' placeholder='Введите ваше имя' value={name} required></input>\n                            <div>\n                                <textarea onChange={inputChangeHandler} name='comment' placeholder='Введите ваш комментарий' value={comment} required></textarea>\n                            </div>\n                            <button type='submit'>Добавить комментарий</button>\n                            </div>\n                        </form>\n                </div>\n        )\n    }\n}\n\nexport default connect(null, {addComment})(DataEntryForm);","export default function () {\n    return `f${(~~(Math.random()*1e8)).toString(16)}`;\n  };","import React from 'react';\nimport { Link } from 'react-router-dom';\n\n\nconst ListItem = (props) =>{\n    const {deleteComment, commentElements: {comment, name, id, date}} = props;\n     console.log(props)\n            return(\n                // to={`${id}`}   \n                \n                    <li className='comment mb-3'>\n                        <div className='m-2'>\n                            <button className='delete' onClick={() => deleteComment(id)}>Delete</button>\n                            <span className='date'>{date}</span>\n                        </div>\n                        <div className='comment_margin'>Имя:\n                            <p className='comment_name_p'>{name}</p>\n                        </div>\n                        <div className='comment_margin'>Комментарий:\n                            <p>{comment}</p>\n                        </div> \n                        <Link to={`${id}`}><div className='text-center border border-secondary'>Открыть</div></Link>\n                    </li> \n                \n            )\n}\n\nexport default ListItem","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport ListItem from '../LIstItem/ListItem'\n\nconst List = ({stateComments, deleteComment}) =>{  \n    const listItems = stateComments.map((commentElements)=>\n        <ListItem deleteComment={deleteComment} commentElements={commentElements} key={commentElements.id}/>\n     )\n     console.log(listItems)\n    return(\n        <div className='d-flex'>\n            <ul className='d-inline-flex flex-wrap'>\n               {listItems}\n            </ul> \n        </div>\n    )\n}\n\nexport default List","import {JSON_PLACEHOLDER, KEY_COMMENTS} from '../constants/constants'\n\nexport class LocalStorageAPI {\nasync getInitialState () {\n   const response = await fetch(JSON_PLACEHOLDER);\n      if (response.ok) {\n        const serialisedState = localStorage.getItem(KEY_COMMENTS);\n          if(!serialisedState) return  []\n          return JSON.parse(serialisedState);\n      }\n      else {\n        console.log('Ошибка:' + response.status);\n      }\n}\n  \n async saveState (getState) {\n         const response =  await fetch(JSON_PLACEHOLDER);\n          if (response.ok) { \n              localStorage.setItem(KEY_COMMENTS, JSON.stringify(\n                  getState\n              ));\n          }\n          else {\n            console.log('Ошибка:' + response.status);\n          }\n      }\n  }\n \n\n","export const JSON_PLACEHOLDER = 'https://jsonplaceholder.typicode.com/todos/1';\nexport const KEY_COMMENTS = 'state_comments';","import React from 'react';\nimport {connect} from 'react-redux'\n\nimport List from '../../components/LIst/List'\nimport {deleteComment} from '../../action/index'\nimport {LocalStorageAPI} from '../../localStorage/storageComments'\n\n const ListComment = ({stateComments, deleteComment}) =>{\n    const localStorageAPI = new LocalStorageAPI();\n    localStorageAPI.saveState(stateComments)\n     return(\n         <List stateComments={stateComments} deleteComment={deleteComment} />\n     )\n}\n\nfunction mapStateToProps(state) {\n    return {\n        stateComments: state \n    }\n  }\n\nexport default connect(mapStateToProps, dispatch => ({\n    deleteComment: id => dispatch(deleteComment(id)),\n}))(ListComment);","import React from 'react'\n\nconst Header = () => {\n  return (\n    <div className=''>\n        <h2 className='p-2'>Header</h2>\n    </div>\n  )\n}\n\nexport default Header","import React from 'react'\nimport '../../style/ListItemDetail.css'\n\nconst ListItemDetail = (props) => {\n  console.log(props)\n    const {commentItem, deleteComment, history} = props\n    console.log(commentItem.length)\n    const {comment, date, id, name} = commentItem[0] ? commentItem[0] : 'undefined';\n    console.log(comment, date, id, name)\n\n    const handleDelete = () => {\n      history.replace('/')\n    }\n\n    const handleGoBack = () => {\n      history.goBack('/')\n    }\n\n  return (\n    <>\n     {commentItem.length === Number(0) &&(\n        <div className='d-flex justify-content-center'>Заметка удалена</div>\n     )}\n\n     {commentItem.length !==0 && (\n        <div className='d-flex'>\n        <div className='goBack' onClick={handleGoBack}>Вернуться назад</div>\n          <div className='commentDetail'>\n            <div className='m-2'>\n                <button className='delete' onClick={() => {deleteComment(id); handleDelete()}}>Delete</button>\n                    <span className='date'>{date}</span>\n            </div>\n            <div className='comment_margin'>Имя:\n                <p className='comment_name_p'>{name}</p>\n            </div>\n            <div className='comment_margin'>Комментарий:\n                <p>{comment}</p>\n            </div> \n          </div> \n          <div className='edit'>Редактировать</div>\n        </div>\n     )}\n    \n    </>\n  )\n}\n\nexport default ListItemDetail","import React from 'react'\nimport {connect} from 'react-redux'\nimport { compose } from 'redux';\nimport { withRouter } from 'react-router';\n\nimport {deleteComment} from '../../action/index'\nimport ListItemDetail from '../../components/ListItemDetail/ListItemDetail';\n\nconst ListItemDetailContainer = (props) => {\n    console.log(props)\n    const {dataComments, deleteComment, history} = props;\n    console.log(dataComments)\n    const commentId = props.match.params.id;\n    console.log(commentId)\n    const commentItem = dataComments.filter(c => c.id === commentId);\n    console.log(commentItem)\n    \n  return (\n    <div className='d-flex justify-content-center'>\n      <ListItemDetail commentItem={commentItem} deleteComment={deleteComment} history={history} />\n    </div>\n  )\n}\n\nconst mapStateToProps = (state) => {\n    console.log(state)\n    return {\n       dataComments: state\n    }\n  };\n\n  const mapDispatchToProps = (dispatch) => {\n    return {\n      deleteComment: (id) => {\n            dispatch(deleteComment(id));\n        }\n    }\n};\n\n// export default ListItemDetail\nexport default compose(connect(mapStateToProps, mapDispatchToProps))(ListItemDetailContainer);","import React from 'react'\n\nconst Authorization = () => {\n  return (\n    <div>\n        <h3>Вход/регистрация</h3>\n    </div>\n  )\n}\n\nexport default Authorization","import React, {Component} from \"react\";\nimport {BrowserRouter as Router, Route , Redirect, Routes, Switch } from \"react-router-dom\" \n\nimport DataEntryForm from '../DataEntryForm/DataEntryForm'\nimport ListComment from '../../containers/LIstContainer/ListComment'\n\nimport '../../style/App.css';\nimport Header from \"../Header/Header\";\nimport ListItemDetailContainer from \"../../containers/ListItemDetailContainer/ListItemDetailContainer\";\nimport Authorization from \"../Authorization/Authorization\";\n\nclass App extends Component  {\n  render() {\n    return (\n        <>\n          <div className=\"d-flex align-items-center justify-content-around bg-secondary\">\n            <Header/>\n            <Authorization/>\n          </div>\n          \n          <div className=\"container mt-3\"> \n            <Router>\n                {/* <Switch> */}\n                    <Route exact path='/' component={DataEntryForm}  /> \n                    <Route exact path=\"/\" render={ (props) => <ListComment {...props} />} />\n                    <Route exact  path=\"/:id\" render={ (props) => <ListItemDetailContainer {...props} />} />\n                    <Redirect to='/' />\n                {/* </Switch> */}\n            </Router>\n          </div> \n        </>\n      );\n  }\n}\n\nexport default App; \n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {Provider} from 'react-redux'\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nimport {createStore, applyMiddleware} from 'redux';\n\nimport widgetCommentsReducer from './reducers'\nimport App from './components/App/AppComponent';\nimport {LocalStorageAPI} from './localStorage/storageComments';\nimport { composeWithDevTools } from '@redux-devtools/extension';\n\nimport './style/index.css';\n\nconst localStorageAPI = new LocalStorageAPI();\n\nconst composeEnhancers = composeWithDevTools({\n});\n\nlocalStorageAPI.getInitialState().then(response =>{\n  const store =  createStore(\n        widgetCommentsReducer,\n        response,\n        composeEnhancers(\n          applyMiddleware()\n        )\n  )\n  \n  ReactDOM.render(\n    <Provider store={store}>\n      <App/>\n    </Provider>,\n    document.getElementById('root')\n  );\n});"],"sourceRoot":""}